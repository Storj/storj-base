version: '2'
services:
  container:
    image: storjlabs/thor:latest
    build:
      context: ../
      dockerfile: ./dockerfiles/thor/thor-development.dockerfile
    privileged: true
    volumes:
      - '/var/run/docker.sock:/var/run/docker.sock'
      - '../thorfiles/.git/modules:/storj-base/.git/modules'
      - '../thorfiles/container.thor:/storj-base/Thorfile'
      - '../thorfiles/lib:/storj-base/thorfiles'
      - '../thorfiles/support:/storj-base/thorfiles/support'
      - '../dockerfiles/:/storj-base/dockerfiles'
    environment:
      THOR_ENV: development
  host:
    image: storjlabs/thor:latest
    build:
      context: ../
      dockerfile: ./dockerfiles/thor/thor-development.dockerfile
    privileged: true
    volumes:
      - '/var/run/docker.sock:/var/run/docker.sock'
      - '../:/storj-base'
      - '../thorfiles/.git/modules:/storj-base/.git/modules'
      - '../thorfiles/host.thor:/storj-base/Thorfile'
      - '../thorfiles/lib:/storj-base/thorfiles'
      - '../thorfiles/support:/storj-base/thorfiles/support'
    environment:
      THOR_ENV: development
